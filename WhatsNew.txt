                Утилита для генерации программного кода
               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                обработки устройств для Step7 Manager
                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

                    Что нового в последней версии
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Обозначения:
 [+] Добавлено
 [-] Удалено
 [*] Изменено
 [!] Исправлена ошибка


-----------------------------------------------------------------------------

Версия 1.3 (билд 13xxxx)

-----------------------------------------------------------------------------
 
 [+] Добавлены шаблоны для поиска/распознавания:
     -автоматических выключателей
     -ультрафильтрации
     -обратного осмоса
     -электродеионизации
 [+] Добавлена индикация принадлежности устройства к типу:
     -M-насосы
     -D-насосы-дозаторы
     -V-заслонки, клапана, задвижки
     -H-нагреватели
 [+] В шаблонах для поиска/распознавания добавлена возможность задавать шаблоны
     используя спецсимвол "*"
 [+] В шаблонах для поиска/распознавания добавлена возможность задавать перечни
     устройств используя спецсимвол "," как разделитель
 [+] Добавлена реализация поиска/распознавания:
     -автоматических выключателей
     -ультрафильтрации
     -обратного осмоса
     -электродеионизации
 [+] Добавлен выбор возможности генерации некоторых программных решений для 
     автоматических режимов следующих подсистем:
     -ультрафильтрации
     -обратного осмоса
     -электродеионизации
 [+] Добавлена обработка ошибок при редактировании списка подсистем
 [+] Добавлена информация о зарезервированных номерах блоков (FB, FC, DB)
     (отсчёт номеров происходит от указанного адреса в списке подсистем)
 [*] Изменена структура файлов настроек
 [!] Исправлены мелкие и не очень ошибки
 [*] Изменения в вызове функции "EnPLCMsgCntrl" в связи с небольшими изменениями
     в коде данной функции. Также теперь не нужен системный таймер для этой функции
 [*] Изменены названия блоков данных с сообщениями для WinCC (теперь 
     присутствует префикс "msg")
 [*] Изменения в проекте-шаблоне Step7 версии 1.3 
     (см. архив Stprjv13_xxxxxx_xxxx.zip)
 [!] Исправлена ошибка связанная с обработкой файла таблицы символов с расширением 
     заглавными буквами
 [+] Добавлена возможность копировать некоторые свойства устройства 
-----------------------------------------------------------------------------

Версия 1.3 (билд 130731)

-----------------------------------------------------------------------------
 
 [+] Добавлены шаблоны для выбора настроечного слова Mdw
 [!] Исправлены мелкие ошибки

-----------------------------------------------------------------------------

Версия 1.3 (билд 130718)

-----------------------------------------------------------------------------

 [+] Добавлена возможность выбора передавать ли переменные в WinCC (установка
     флага "S7_m_c")
 [*] Изменена структура файла-списка устройств (<имя>_FB20.lst)
 [*] Смена версии утилиты с 1.2 до 1.3 с соответствующей сменой проекта-шаблона
     Step7 на версию 1.3 (см. архив Stprjv13_xxxxxx_xxxx.zip)

-----------------------------------------------------------------------------

Версия 1.2 (билд 130718)

-----------------------------------------------------------------------------

 [*] Мелкие добавления и улучшения

-----------------------------------------------------------------------------

Версия 1.2 (билд 130717)

-----------------------------------------------------------------------------

 [+] Реализовано добавление переменных в соответствующую DB при задании переменной
     на вход/выход FB20 с помощью кнопки и "в ручную" 

-----------------------------------------------------------------------------

Версия 1.2 (билд 130614)

-----------------------------------------------------------------------------

 [!] Косметическое исправление в интерфейсе

-----------------------------------------------------------------------------

Версия 1.2 (билд 130607)

-----------------------------------------------------------------------------

 [+] Добавлена индикация включенного фильтра списка входов
 [+] Добавлена индикация включенного дополнительного фильтра списка выходов(устройств)
 [*] Некоторые косметические изменения

-----------------------------------------------------------------------------

Версия 1.2 (билд 130606)

-----------------------------------------------------------------------------

 [+] Добавлены новые возможности фильтра списка выходов(устройств)
 [+] Добавлена индикация включенного фильтра списка выходов(устройств)
 [+] Добавлена обработка ошибок при загрузке настроек

-----------------------------------------------------------------------------

Версия 1.2 (билд 130604)

-----------------------------------------------------------------------------

 [*] Изменена иконка программы

-----------------------------------------------------------------------------

Версия 1.2 (билд 130603)

-----------------------------------------------------------------------------

 [+] Реализована возможность фильтровать список выходов
 [*] Изменена структура файла-списка устройств (<имя>_FB20.lst)

-----------------------------------------------------------------------------

Версия 1.2 (билд 130531)

-----------------------------------------------------------------------------

 [+] Реализована возможность фильтровать список устройств
 [+] Реализована возможность выбора какое сообщение формировать:
      - обычное (на основе FB22 "MsgDev")
      - расширенное (на основе FB21 "MsgDevEx")

-----------------------------------------------------------------------------

Версия 1.2 (билд 130528)

-----------------------------------------------------------------------------

 [+] Добавлена возможность задания шаблонов для расознания устройств
 [+] Добавлена проверка на ошибки перед генерацией программы
 [+] При открытии файла настроек теперь появилась возможность загрузки файла настроек
 [*] Увеличено количество данных при сохранении настроек (добавлены шаблоны)

-----------------------------------------------------------------------------

Версия 1.2 (билд 130527)

-----------------------------------------------------------------------------

 [+] Добавлена реализация сохранения/загрузки настроек

-----------------------------------------------------------------------------

Версия 1.2 (билд 130521)

-----------------------------------------------------------------------------

 [+] Введена логика "активности" кнопок для "подсказки" правильной последова-
     тельности действий пользователя программы

-----------------------------------------------------------------------------

Версия 1.2 (билд 130520)

-----------------------------------------------------------------------------

 [+] Добавлено окно, информирующее о процессе генерации и сохранения текста 
     генерируемой программы  

-----------------------------------------------------------------------------

Версия 1.2 (билд 130508)

-----------------------------------------------------------------------------

 [+] Добавлена возможность изменения полей устройства при изменениии имени 
     устройства (после изменения имени необходимо нажать кнопку "Изм. поля"
     возле поля ввода имени устройства 

-----------------------------------------------------------------------------

Версия 1.2 (билд 130207)

-----------------------------------------------------------------------------

 [*] Для совместимости с панелями в тексте сообщения теперь присутствует имя 
     датчика/устройства. Поэтому введены новые версии FB для генерации аналоговых
     сигналов и устройств: 
     FB12 "AiCh_LnrAnlg_Msg"  версии 6.3 (было 6.2)
     FB14 "AiCh_LnrAnlgT_Msg" версии 6.3 (было 6.2)
     FB21 "MsgDevEx"          версии 0.3 (было 0.2)
     FB22 "MsgDev"            версии 0.3 (было 0.2)
 [+] Для генерации сообщений теперь используется текстовая библиотека Step7.
     Поэтому сделаны соответствующие изменения в программе. Теперь генерируется
     дополнительный файл для импорта в текстовую библиотеку Step7 (через MS Excel).
     Имя файла:"<Имя_таблицы_символов>_TxtLbr_Dev.csv" 
 [+] Появилась возможность редактировать имя датчика/устройства которое будет в
     тексте сообщения
 [+] Дополнительно к утилите прилагается архив с S7 проектом в котором находится 
     минимально необходимый набор блоков и символов в таблице символов.
     Архив "StPrjv12_130207_1646.zip" 
 [+] Написана инструкция по работе утилиты

-----------------------------------------------------------------------------

Версия 1.1 (билд 130125)

-----------------------------------------------------------------------------

 [*] В связи с появлением "менеджера" сообщений PLC (FB15 "EnPLCMsgCntrl") 
     была изменена данная утилита.
 
 [*] Для корректной компиляции сгенерированных программ в Step7 необходимы 
     новые версии FB для генерации аналоговых сигналов и устройств: 
     FB12 "AiCh_LnrAnlg_Msg"  версии 6.2 (было 6.0)
     FB14 "AiCh_LnrAnlgT_Msg" версии 6.2 (было 6.1)
     FB21 "MsgDevEx"          версии 0.2 (было 0.1)
     FB22 "MsgDev"            версии 0.2 (было 0.1)
     FB87 "Tmr"               версии 1.1 (было 1.0)
 [+] Дополнительно к утилите прилагается архив с S7 проектом в котором находится 
     минимально необходимый набор блоков и символов в таблице символов.
     Архив "Stprjv11_130128_1035.zip" 
 [-] Удалены за ненадобностью три меркерные переменные:
      "EnablePLCMsg"    (адрес настраивается)
     
      "TimePulse4Msg"   (адрес настраивается)

      "fpTimePulse4Msg" (адрес настраивается)


-----------------------------------------------------------------------------

Версия 1.0 бета (билд 130116)

-----------------------------------------------------------------------------

 [!] Добавление переменной из числа дискретных водов на вход функции 
     происходило с ошибкой в имени переменной (не было префикса "i") 

-----------------------------------------------------------------------------

Версия 1.0 бета (билд 121214)

-----------------------------------------------------------------------------

 [+] Применение "ручных" изменений в полях ввода для входов/выходов функции
     обработки устройства
 [+] Научились по двойному щелчку мыши "выбирать" поле в которое будет 
     (опять же по двойному щелчку мыши) записываться переменная из дискретных
     входов 
 [*] Изменено имя выходного файла добавочной таблицы символов. 
     Теперь имя выглядит так "<Имя исходной таблицы символов>_add_Dev.sdf"
 [*] Изменено имя выходного файла исходного текста программы для PLC. 
     Теперь имя выглядит так "<Имя исходной таблицы символов>_Dev.awl"
 [!] При максимально длинных именах символов в символьной таблице

     неправильно определялись имена этих символов в программе.
 
 [!] Теперь сообщения для WinCC формируются только для тех устройств, для которых:
      - Разрешено формирование функции обработки устройства
      - И разрешено формирование сообщений WinCC для всех устройств
      - И разрешено формирование сообщений WinCC для данного устройства

-----------------------------------------------------------------------------

Версия 1.0 альфа (билд 121116)

-----------------------------------------------------------------------------


 [*] Первая версия генерирующая безошибочный код для PLC.
 

-----------------------------------------------------------------------------

Версия 1.0 альфа (билды 12xxxx)
-----------------------------------------------------------------------------

 "Доисторические" версии утилиты ;-)


-----------------------------------------------------------------------------


Информацию об ошибках, предложения и пожелания направляйте по адресу:


 daf[dog]hydrotech-engineering.com
